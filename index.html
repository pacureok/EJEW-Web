cat << 'EOF' > ~/EJEW_Project/public/index.html
<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>EJEW Engine Control Center</title>
    <style>
        :root {
            --win-grey: #c0c0c0;
            --win-blue: #000080;
            --win-border-light: #ffffff;
            --win-border-dark: #808080;
        }

        body {
            background-color: #008080;
            background-image: url('clouds.jpg'); /* Ahora está en la raíz */ 
            background-size: cover;
            margin: 0;
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            font-family: 'Tahoma', sans-serif;
        }

        .window {
            width: 850px;
            background: var(--win-grey);
            border: 2px solid;
            border-color: var(--win-border-light) var(--win-border-dark) var(--win-border-dark) var(--win-border-light);
            padding: 3px;
            box-shadow: 4px 4px 10px rgba(0,0,0,0.3);
        }

        .title-bar {
            background: linear-gradient(90deg, var(--win-blue), #1084d0);
            padding: 3px 5px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            color: white;
            font-weight: bold;
            font-size: 13px;
        }

        .title-bar-text {
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .viewport {
            background: #000;
            border: 2px solid;
            border-color: var(--win-border-dark) var(--win-border-light) var(--win-border-light) var(--win-border-dark);
            margin-top: 2px;
        }

        canvas {
            display: block;
            width: 100%;
            height: 480px;
            image-rendering: pixelated;
        }

        .status-bar {
            border-top: 1px solid var(--win-border-dark);
            margin-top: 2px;
            padding: 2px 5px;
            font-size: 11px;
            display: flex;
            gap: 10px;
        }
    </style>
</head>
<body>

<div class="window">
    <div class="title-bar">
        <div class="title-bar-text">
            <img src="windows-0.png" width="16" height="16"> EJEW_System_Debugger.exe
        </div>
        <div style="font-size: 10px;">[ ? ] [ X ]</div>
    </div>
    
    <div class="viewport">
        <canvas id="canvas" oncontextmenu="event.preventDefault()"></canvas>
    </div>

    <div class="status-bar">
        <div style="border: 1px inset; padding: 0 5px; flex-grow: 1;">Ready</div>
        <div style="border: 1px inset; padding: 0 5px; width: 80px;">WASM: OK</div>
    </div>
</div>

<script>
    var Module = {
        canvas: document.getElementById('canvas'),
        setStatus: function(text) { console.log("EJEW Status: " + text); },
        instantiateWasm: function(imports, successCallback) {
            // Carga manual para máxima compatibilidad con COEP en Netlify
            fetch('ejew_wasm.wasm')
                .then(response => response.arrayBuffer())
                .then(binary => WebAssembly.instantiate(binary, imports))
                .then(result => successCallback(result.instance))
                .catch(err => console.error("Fallo al cargar motor:", err));
            return {};
        }
    };
</script>
<script async src="ejew_wasm.js"></script>

</body>
</html>
EOF
